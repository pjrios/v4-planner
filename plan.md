# Agenda Planner Project Plan

## 0. Vision & Principles
- Build an offline-first, teacher-centric planner to organize lessons across trimesters.
- Focus on structured data (levels, groups, schedules, lessons) so filters, calendars, and reports stay reliable.
- Deliver a Google Calendar–like experience with teacher-specific metadata (pre/while/post activities, rubrics, resources).
- Prioritize simple UX, fast performance, and local-first privacy.

## 1. Milestone Roadmap
| Milestone | Focus | Key Outcomes |
|-----------|-------|--------------|
| M0 – Foundation (Week 0–1) | Project scaffolding & schema | Repo setup, Dexie schema, seed data, lint/test tooling |
| M1 – Setup Workflow (Week 2–3) | Define teaching structure | CRUD for trimesters, levels, groups; schedule builder UI |
| M2 – Calendar Core (Week 4–5) | Visualize schedules | Month/week/day views with placeholders and filtering |
| M3 – Lesson Authoring (Week 6–7) | Detailed planning | Lesson editor, activity templates, copy-to-level flow |
| M4 – Calendar Intelligence (Week 8) | Adaptive scheduling | Holidays/events manager, auto-reschedule, undo |
| M5 – Insights & Sharing (Week 9) | Reporting/export | Coverage and workload reports, CSV/JSON exports |
| M6 – Polish & Release (Week 10) | Quality & deployment | PWA packaging, accessibility/perf pass, user QA |

## 2. System Architecture Overview
- **Frontend:** React + Tailwind, FullCalendar for views, Zustand/Redux for state.
- **Storage:** IndexedDB (Dexie.js) with structured tables for each entity.
- **Utilities:** date-fns for date math, jsPDF/PDFMake for exports.
- **Offline support:** Service worker + PWA installability, auto-save and backup/import.

## 3. Domain Model
- Entities: Trimester, Holiday, Level, Group, Schedule, Topic, Lesson, Rubric, Resource, ActivityTemplate.
- Relationships: Level → Groups → Schedules → Lessons; Lessons linked to Topics, Rubrics, Resources; Holidays scoped by group/level.
- Validation: date ranges, duration checks, non-overlapping sessions per group, color palette fallback.

## 4. Key Features by Milestone
### M0
- Dexie schema & DataStore CRUD wrapper.
- Seed dataset (sample trimesters, holidays, groups, lessons).
- Base layout (app shell, navigation).

### M1
- Setup wizard for academic year, trimeters, holidays.
- Level & group management with autogenerated sections (A, B, C…).
- Schedule builder with weekly session preview and conflict warnings.

### M2
- FullCalendar integration with month/week/day switcher.
- Event mapping for placeholder slots and planned lessons.
- Filters (trimester, level, group, status) and “Today” jump.

### M3
- Lesson drawer with tabs (Objectives, Activities, Resources, Assessment, Review).
- Pre/while/post structured fields, autosave, duration validation.
- Activity templates and copy-to-level automation.

### M4
- Holiday/event manager with impact preview.
- Rescheduling engine to cascade lessons, lock/undo controls.
- Color coding by level/group/topic, legend and accessibility adjustments.

### M5
- Reports dashboard: coverage, pacing, workload, resource usage.
- Export/import: CSV (lessons, schedules), JSON backup, optional PDF.
- Bulk actions (batch status update, linking/unlinking lessons).

### M6
- PWA enhancements (service worker, offline banner, update prompt).
- Keyboard shortcuts, high-contrast theme, ARIA passes.
- Performance tuning (memoization, virtualized lists) and final QA.

## 5. Testing Strategy
- **Unit:** Date helpers, slot generation, reschedule logic, validation rules.
- **Integration:** Schedule → calendar sync, lesson copy, holiday adjustments.
- **E2E:** Core flows (setup, plan lesson, copy, reschedule) via Cypress/Playwright.
- **Performance:** Benchmark large datasets (~1000 lessons) for render time.
- **Accessibility:** Keyboard navigation, contrast checks, screen reader audit.

## 6. Risks & Mitigations
- Rescheduling complexity → start with simple shift rules, add user control.
- Data migrations → versioned exports, schema guards.
- UX overload → progressive disclosure, templates, sensible defaults.
- Offline data loss → auto-export reminders, manual backup flow.

## 7. Future Enhancements
- Multi-teacher collaboration & cloud sync.
- Parent/student sharing portals.
- Standards alignment (e.g., curriculum standards tagging).
- Analytics insights (e.g., skill coverage heatmaps).
